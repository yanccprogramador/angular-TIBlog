<div class="row" *ngIf="!logado">
    <div class="container">
        <div class="col s12 m1 l3 offset -l3"><br/><br/></div>
        <div class="col s12 m10 l6">
            <img class="responsive-image" style="width: 100%; height: 40%;" src="assets/logo.png" />
            <div class="input-field">
                <input type="text" id='login' [(ngModel)]="login">
                <label for='login'>Login</label>
            </div>
            <div class="input-field">
                <input type="password" id='pass' [(ngModel)]="password">
                <label for='pass'>Senha</label><br/>
                <input type="submit" value="Logue" class="btn waves-effect waves-green" (click)="logar()"><br/>
            </div>
            <a routerLink="/register">Registre</a>
        </div>
    </div>
</div>
<nav *ngIf="logado">
    <div class="nav-wrapper green">
        <a href="#" class="brand-logo center"><img src="assets/logo.png" style="width: 60px; height: 60px;"></a>
        <a href="#" class="button-collapse hide-on-large-only green" [id]="'btn-sidenav-demo'"><i mz-icon-mdi
[icon]="'format-align-justify'" class="black-text"
[size]="'36px'">
</i></a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a routerLink="/">Todos Artigos</a></li>
            <li><a routerLink="/publish">Publique</a></li>
            <li><a routerLink="/my">Meus Artigos</a></li>
            <li><a routerLink="/user">User</a></li>
        </ul>

        <mz-sidenav [id]="'sidenav-demo'" [collapseButtonId]="'btn-sidenav-demo'">

            <mz-sidenav-link><a routerLink="/">Todos Artigos</a></mz-sidenav-link>
            <mz-sidenav-link><a routerLink="/publish">Publique</a></mz-sidenav-link>
            <mz-sidenav-link><a routerLink="/my">Meus Artigos</a></mz-sidenav-link>
            <mz-sidenav-link><a routerLink="/user">User</a></mz-sidenav-link>
        </mz-sidenav>
    </div>
</nav>
<div class="row">
    <div class="container">
        <div class="col s12 m1 l3 offset -l3"><br/><br/></div>
        <div class="col s12 m10 l6" *ngIf="logado">
            <h1>{{usuario.nome}}</h1>
            <h4>@{{currentUser}}</h4>
            <br/>
            <div class="row">
                <button class="btn waves-effect waves-red red" (click)="deslogar()">Logout</button>
                <button class="btn waves-effect waves-red red" (click)="editModal.open()">Atualizar</button>
                <button class="btn waves-effect waves-red red" (click)="confirm.open()">Apagar Conta</button>
            </div>
        </div>
    </div>
</div>
<mz-modal #editModal [fixedFooter]="true">

    <mz-modal-header>
        Atualizar
    </mz-modal-header>
    <mz-modal-content>
        <form #formRegister="ngForm">
            <label for="nome" [ngClass]="{'red-text': !name.valid && name.touched}">Nome:</label>
            <input type="text" class="validate" name="nome" [(ngModel)]="usuario.nome" #name="ngModel" required>


            <div *ngIf="!name.valid && name.touched" [ngClass]="{'red-text': !name.valid && name.touched}">Por favor insira seu nome</div>
            <label for="senha" [ngClass]="{'red-text': !pass.valid && pass.touched}">Senha:</label>
            <input type="password" class="validate" name="senha" [(ngModel)]="usuario.senha" #pass="ngModel" required minlength="4" maxlength="8">

            <div *ngIf="!pass.valid && pass.touched" [ngClass]="{'red-text': !pass.valid && pass.touched}">Por favor insira uma senha válida de 4 a 8 caracteres</div>

        </form>
    </mz-modal-content>
    <mz-modal-footer>
        <button mz-button class="btn waves-effect waves-green green right" [disabled]="!formRegister.valid" (click)="update()" mz-modal-close>Atualizar</button>
    </mz-modal-footer>

</mz-modal>
<mz-modal #confirm [fixedFooter]="true">

    <mz-modal-header>
        TI Blog
    </mz-modal-header>
    <mz-modal-content>
        Tem certeza que deseja excluir sua conta?
    </mz-modal-content>
    <mz-modal-footer>
        <button mz-button class="btn waves-effect waves-green green right" mz-modal-close>Não</button>
        <button mz-button class="btn waves-effect waves-green green left" (click)="delUser()" mz-modal-close>Sim</button>
    </mz-modal-footer>

</mz-modal>